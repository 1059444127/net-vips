<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>    
    <InteropDir>$(MSBuildThisFileDirectory)..\tools\netcoreapp2.0</InteropDir>
    <TargetOS Condition="'$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::Linux)))' == 'true'">Linux</TargetOS>
    <TargetOS Condition="'$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::OSX)))' == 'true'">OSX</TargetOS>
    <TargetOS Condition="'$([System.Runtime.InteropServices.RuntimeInformation]::IsOSPlatform($([System.Runtime.InteropServices.OSPlatform]::Windows)))' == 'true'">Windows</TargetOS>
  </PropertyGroup>

  <ItemGroup>
    <Reference Include="NetVips.Interop" Condition="'$(TargetOS)' == 'Linux'">
      <SpecificVersion>false</SpecificVersion>
      <HintPath>$(InteropDir)\linux\NetVips.Interop.dll</HintPath>
      <Private>true</Private>
      <Message Importance="high" Text="Linux" />
    </Reference>
    <Reference Include="NetVips.Interop" Condition="'$(TargetOS)' == 'OSX'">
      <SpecificVersion>false</SpecificVersion>
      <HintPath>$(InteropDir)\osx\NetVips.Interop.dll</HintPath>
      <Private>true</Private>
      <Message Importance="high" Text="OSX" />
    </Reference>
    <Reference Include="NetVips.Interop" Condition="'$(TargetOS)' == 'Windows'">
      <SpecificVersion>false</SpecificVersion>
      <HintPath>$(InteropDir)\win\NetVips.Interop.dll</HintPath>
      <Private>true</Private>
      <Message Importance="high" Text="Windows" />
    </Reference>
  </ItemGroup>

</Project>